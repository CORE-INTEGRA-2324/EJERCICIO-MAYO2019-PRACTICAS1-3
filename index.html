<html>
    <head>
        <title>Calculadora de CORE - INTEGRA</title>
        <meta charset="utf-8">
        <script type="text/javascript">

            // FUNCIONES ÚTILES PARA LA CALCULADORA
            const getInputValue = () => {
                return Number(document.getElementById("pantalla").value);
            };

            const setInputValue = (valor) => {
                document.getElementById("pantalla").value = valor;
            }

            const vaciarInput = () => {
                document.getElementById("pantalla").value = "";
            }

            // OPERACIONES UNITARIAS
            const sq = () => {
                let inputValue = getInputValue();
                setInputValue(inputValue*inputValue);
            }

            const fact = () => {
                let inputValue = getInputValue();
                let resultado = 1;
                for (let index = inputValue; index > 1; index--) {
                    resultado *= index;
                }
                setInputValue(resultado);
            }

            const sqr = () => {
                let inputValue = getInputValue();
                let resultado = Math.sqrt(inputValue);
                setInputValue(resultado);
            };


            // OPERACIONES BINARIAS
            let acumulador = 0;
            let operador = "";

            const acumula = n => {
                switch (operador) {
                    case "":
                        acumulador = n;
                        break;
                    case "+":
                        acumulador += n;
                        break;
                    case "-":
                        acumulador -= n;
                        break;
                }
            }

            const add = () => {
                acumula(getInputValue());
                operador = "+";
                vaciarInput();
            }

            const sub = () => {
                acumula(getInputValue());
                operador = "-";
                vaciarInput();
            }

            const eq = () => {
                acumula(getInputValue());
                operador = "=";
                vaciarInput();
                setInputValue(acumulador);
            }

            const onload = () => {
                // OPERACIONES UNITARIAS
                document.getElementById("cuadrado").addEventListener("click", sq);
                document.getElementById("factorial").addEventListener("click", fact);
                document.getElementById("raiz").addEventListener("click", sqr);

                //OPERACIONES BINARIAS
                document.getElementById("suma").addEventListener("click", add);
                document.getElementById("resta").addEventListener("click", sub);
                document.getElementById("igual").addEventListener("click", eq);
            }

            window.onload = onload ;
        </script>
    </head>
    <body>
        <h1>Academia INTEGRA</h1>
        <h2 class="cabecera">Calculadora de CORE - INTEGRA</h2>
        <div id="input_texto">
            <label for="pantalla">Número:</label>
            <input type="text" id="pantalla">
        </div>

        <h3 class="cabecera" title="Unitarias">Operaciones unitarias</h3>
        <div class="operaciones">
            <button id="cuadrado"> x<sup>2</sup></button>
            <button id="factorial"> x! </button>
            <button id="raiz"> &#8730 x</button>
        </div>

        <h3 id="info" class="cabecera" title="binarias">Operaciones binarias</h3>
        <div class="operaciones">
            <button id="suma"> + </button>
            <button id="resta"> - </button>
            <button id="igual"> = </button>
        </div>
    </body>
</html>
